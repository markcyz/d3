<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>England COVID-19 Data Visualization</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
<div class="container">
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <header class="header">
        <h1><i class="fas fa-virus"></i> England COVID-19 Dashboard</h1>
        <p class="subtitle">Daily Cases & Fatalities (Jan - Nov 2020)</p>
    </header>

    <!-- æŽ§åˆ¶é¢æ¿ -->
    <div class="controls">
        <div class="control-group">
            <label for="chart-select"><i class="fas fa-chart-line"></i> Visualization Type:</label>
            <select id="chart-select">
                <option value="line">ðŸ“ˆ Line Chart (Trends)</option>
                <option value="dual-axis">ðŸ“Š Dual-Axis Chart</option>
                <option value="scatter">ðŸŽ¯ Scatter Plot (Correlation)</option>
                <option value="stacked">ðŸ“Š Stacked Area Chart</option>
                <option value="bar">ðŸ“Š Bar Chart (Weekly)</option>
                <option value="heatmap">ðŸ”¥ Calendar Heatmap</option>
            </select>
        </div>

        <div class="control-group">
            <label for="date-range"><i class="fas fa-calendar-alt"></i> Date Range:</label>
            <div class="date-inputs">
                <input type="date" id="start-date" value="2020-01-30">
                <span>to</span>
                <input type="date" id="end-date" value="2020-11-30">
            </div>
        </div>

        <div class="control-group">
            <label><i class="fas fa-filter"></i> Data Filters:</label>
            <div class="checkboxes">
                <label>
                    <input type="checkbox" id="show-cases" checked>
                    <span class="checkbox-label">Cases</span>
                </label>
                <label>
                    <input type="checkbox" id="show-deaths" checked>
                    <span class="checkbox-label">Deaths</span>
                </label>
                <label>
                    <input type="checkbox" id="show-7day-avg">
                    <span class="checkbox-label">7-day Avg</span>
                </label>
                <label>
                    <input type="checkbox" id="show-cumulative">
                    <span class="checkbox-label">Cumulative</span>
                </label>
            </div>
        </div>

        <button id="reset-btn" class="btn reset">
            <i class="fas fa-redo"></i> Reset View
        </button>
        <button id="export-btn" class="btn export">
            <i class="fas fa-download"></i> Export Chart
        </button>
    </div>

    <!-- ç»Ÿè®¡å¡ç‰‡ -->
    <div class="stats-container">
        <div class="stat-card total-cases">
            <div class="stat-icon">
                <i class="fas fa-user-md"></i>
            </div>
            <div class="stat-content">
                <h3>Total Cases</h3>
                <p id="total-cases" class="stat-number">Loading...</p>
                <p class="stat-change" id="cases-change"></p>
            </div>
        </div>

        <div class="stat-card total-deaths">
            <div class="stat-icon">
                <i class="fas fa-heartbeat"></i>
            </div>
            <div class="stat-content">
                <h3>Total Deaths</h3>
                <p id="total-deaths" class="stat-number">Loading...</p>
                <p class="stat-change" id="deaths-change"></p>
            </div>
        </div>

        <div class="stat-card peak-day">
            <div class="stat-icon">
                <i class="fas fa-chart-bar"></i>
            </div>
            <div class="stat-content">
                <h3>Peak Day</h3>
                <p id="peak-day" class="stat-number">Loading...</p>
                <p class="stat-detail" id="peak-detail"></p>
            </div>
        </div>

        <div class="stat-card fatality-rate">
            <div class="stat-icon">
                <i class="fas fa-percentage"></i>
            </div>
            <div class="stat-content">
                <h3>Fatality Rate</h3>
                <p id="fatality-rate" class="stat-number">Loading...</p>
                <p class="stat-detail">Cases to Deaths Ratio</p>
            </div>
        </div>
    </div>

    <!-- ä¸»å›¾è¡¨åŒºåŸŸ -->
    <div class="chart-container">
        <div class="chart-header">
            <h2 id="chart-title">COVID-19 Daily Trends</h2>
            <div class="chart-legend" id="legend"></div>
        </div>
        <div class="chart-wrapper">
            <svg id="main-chart" width="100%" height="500"></svg>
            <div id="tooltip" class="tooltip"></div>
        </div>
        <div class="chart-footer">
            <div class="brush-container">
                <svg id="brush-chart" width="100%" height="100"></svg>
            </div>
        </div>
    </div>

    <!-- å‰¯å›¾è¡¨ï¼ˆç›¸å…³æ€§å’Œåˆ†æžï¼‰ -->
    <div class="secondary-charts">
        <div class="chart-box">
            <h3><i class="fas fa-crosshairs"></i> Cases vs Deaths Correlation</h3>
            <svg id="scatter-chart" width="100%" height="300"></svg>
        </div>
        <div class="chart-box">
            <h3><i class="fas fa-calendar-week"></i> Weekly Pattern</h3>
            <svg id="weekly-chart" width="100%" height="300"></svg>
        </div>
        <div class="chart-box">
            <h3><i class="fas fa-wave-square"></i> Moving Averages</h3>
            <svg id="moving-avg-chart" width="100%" height="300"></svg>
        </div>
    </div>

    <!-- æ•°æ®è¡¨æ ¼ -->
    <div class="data-table-container">
        <h3><i class="fas fa-table"></i> Raw Data</h3>
        <div class="table-controls">
            <input type="text" id="search-input" placeholder="Search dates...">
            <select id="sort-select">
                <option value="date">Sort by Date</option>
                <option value="cases">Sort by Cases</option>
                <option value="deaths">Sort by Deaths</option>
            </select>
            <button id="export-data" class="btn small">
                <i class="fas fa-file-csv"></i> Export CSV
            </button>
        </div>
        <div class="table-wrapper">
            <table id="data-table">
                <thead>
                <tr>
                    <th>Date</th>
                    <th>Daily Cases</th>
                    <th>Daily Deaths</th>
                    <th>Cumulative Cases</th>
                    <th>Cumulative Deaths</th>
                    <th>7-Day Avg Cases</th>
                    <th>7-Day Avg Deaths</th>
                </tr>
                </thead>
                <tbody id="table-body">
                <!-- Data will be populated here -->
                </tbody>
            </table>
        </div>
        <div class="pagination">
            <button id="prev-page" class="btn small">Previous</button>
            <span id="page-info">Page 1 of 1</span>
            <button id="next-page" class="btn small">Next</button>
        </div>
    </div>

    <!-- æ´žå¯Ÿå’Œåˆ†æž -->
    <div class="insights">
        <h3><i class="fas fa-lightbulb"></i> Key Insights</h3>
        <div class="insight-grid">
            <div class="insight-item">
                <div class="insight-header">
                    <i class="fas fa-calendar-times"></i>
                    <h4>Peak Periods</h4>
                </div>
                <p id="peak-insight">Analyzing peak infection periods...</p>
            </div>
            <div class="insight-item">
                <div class="insight-header">
                    <i class="fas fa-chart-line"></i>
                    <h4>Trend Analysis</h4>
                </div>
                <p id="trend-insight">Identifying trends in the data...</p>
            </div>
            <div class="insight-item">
                <div class="insight-header">
                    <i class="fas fa-balance-scale"></i>
                    <h4>Correlation Analysis</h4>
                </div>
                <p id="correlation-insight">Calculating correlation between cases and deaths...</p>
            </div>
            <div class="insight-item">
                <div class="insight-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h4>Warning Signals</h4>
                </div>
                <p id="warning-insight">Looking for warning patterns...</p>
            </div>
        </div>
    </div>
</div>

<script src="js/main.js"></script>
</body>
</html>